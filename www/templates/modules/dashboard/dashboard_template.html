<ion-view hide-back-button="true">
  <ion-content class="view-wrapper dashboard">
    <div class="new-post-wrapper">
      <div class="item item-body">
        <div class="new-post-header">
          <div class="user-image">
            <img ng-src="{{user.photoURL}}">
          </div>
          <div class="write-something" ng-click="openNewPostModal()">
            <p>{{"dashboard.writeSomething" | translate}}</p>
          </div>

        </div>
        <div class="new-post-footer">
          <div class="status" ng-click="openNewPostModal()">
            {{"dashboard.status" | translate}}
          </div>
          <div class="select-photo" ng-click="newImagePost('PHOTOLIBRARY')">
            {{"dashboard.selectPhoto" | translate}}
          </div>
          <div class="add-photo" ng-click="newImagePost('CAMERA')">
            {{"dashboard.addPhoto" | translate}}
          </div>
        </div>
      </div>
    </div>
    <div class="posts-list-wrapper animate-ripple">
      <div class="item card-item posts-list" ng-repeat="post in posts">
        <div class="new-badge" ng-if="post.new">{{"dashboard.new" | translate | uppercase}}</div>
        <post-owner uid="post.uid" created="post.created"></post-owner>
        <div class="item item-body">
          <div class="post-image" ng-if="post.image">
            <img ng-src="{{post.image}}">
          </div>
          <div class="post-message">
            <p>{{post.message | limitTo:400}}</p>

            <p ng-click="openPostDetails(post)" class="read-more" ng-if="post.message.length >= 400">
              {{"dashboard.readMore" | translate}}</p>
          </div>
          <div class="comment-footer" ng-click="openCommentModal(post)">
            <div class="chat-icon">
              <i class="ion-ios-chatbubble-outline"></i>
            </div>
            <div class="number-of-comments">
              {{post.numberOfComments}}
            </div>
          </div>
        </div>
      </div>
      <div ng-show="hasMoreData">
        <ion-infinite-scroll on-infinite="loadMore()">
        </ion-infinite-scroll>
      </div>
    </div>
  </ion-content>
</ion-view>

