<ion-view hide-back-button="true">
  <ion-nav-title>{{"dashboard.timeline" | translate}}</ion-nav-title>
  <ion-content class="view-wrapper dashboard">
    <div class="list card">
      <div class="item item-body">
        <div class="new-post-header">
          <div class="user-image">
            <img ng-src="{{user.photoURL}}">
          </div>
          <div class="write-something" ng-click="openNewPostModal()">
            <p>{{"dashboard.writeSomething" | translate}}</p>
          </div>

        </div>
        <div class="new-post-footer">
          <div class="status">
            {{"dashboard.status" | translate}}
          </div>
          <div class="select-photo" ng-click="newImagePost('PHOTOLIBRARY')">
            {{"dashboard.selectPhoto" | translate}}
          </div>
          <div class="add-photo" ng-click="newImagePost('CAMERA')">
            {{"dashboard.addPhoto" | translate}}
          </div>
        </div>
      </div>
    </div>
    <div class="posts-list-wrapper">
      <div class="list card posts-list" ng-repeat="post in posts">
        <div class="new-badge" ng-if="post.new">{{"dashboard.new" | translate | uppercase}}</div>
      <div class="item item-body">
        <div class="post-image" ng-if="post.image" ng-click="openPostDetails(post)">
          <img ng-src="{{post.image}}">
        </div>
        <div class="post-title" ng-click="openPostDetails(post)">
          <h2>{{post.title}}</h2>
        </div>
        <post-owner uid="post.uid" created="post.created"></post-owner>
        <div class="new-post-footer">
          <div class="status" ng-click="openCommentModal(post)">
            {{"dashboard.comment" | translate}}
          </div>
          <div class="status">
            {{post.numberOfComments}}
          </div>
        </div>
      </div>
      </div>
      <div ng-show="hasMoreData">
        <ion-infinite-scroll on-infinite="loadMore()">
        </ion-infinite-scroll>
      </div>
    </div>
  </ion-content>
</ion-view>

